<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <script>
        function getPortalUrl() {
            var locationHref = window.location.href;
            var indexOfPortal = locationHref.indexOf('/portal/');
            if (indexOfPortal >= 0) {
                return locationHref.substring(0, indexOfPortal);
            }
        };

        function getParameterByName(name) {
            var url = window.location.href;
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return '';
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        };

        function getArchivedPath() {
            return getParameterByName('tab') === 'archived' ? '/archived' : '';
        };

        function getTargetPath() {
            return getPortalUrl() + '/portal.js/#/admin/cases/list' + getArchivedPath();
        };

        function getQueryParameters() {
            return '?processId=' + getParameterByName('processId') + '&caseStateFilter=' + getParameterByName('caseStateFilter');
        };

        window.location.replace(getTargetPath() + getQueryParameters());
    </script>
</head>
<body>

</body>
</html>
