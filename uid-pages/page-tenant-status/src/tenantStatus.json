{
  "designerVersion" : "1.7.61",
  "id" : "tenantStatus",
  "name" : "tenantStatus",
  "lastUpdate" : 1537971516785,
  "rows" : [ [ {
    "type" : "container",
    "dimension" : {
      "xs" : 3,
      "sm" : 1,
      "md" : 2,
      "lg" : 3
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "repeatedCollection" : {
        "type" : "variable",
        "value" : ""
      }
    },
    "reference" : "1a0335e4-ed29-4b57-9089-0acbef17932b",
    "id" : "pbContainer",
    "rows" : [ [ ] ]
  }, {
    "type" : "container",
    "dimension" : {
      "xs" : 12,
      "sm" : 10,
      "md" : 8,
      "lg" : 6
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "expression",
        "value" : "!isTechnicalUser"
      },
      "repeatedCollection" : {
        "type" : "variable",
        "value" : ""
      }
    },
    "reference" : "2ee379a1-0571-43dc-8873-d0780f3d4e70",
    "id" : "pbContainer",
    "rows" : [ [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12,
        "lg" : 12,
        "md" : 12,
        "sm" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "text" : {
          "type" : "interpolation",
          "value" : "BPM services"
        },
        "level" : {
          "type" : "constant",
          "value" : "Level 1"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        }
      },
      "reference" : "233bf7f6-4e64-4e51-afec-86afea0cfb32",
      "id" : "pbTitle"
    } ], [ {
      "type" : "container",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : "panel panel-default panel-body"
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "repeatedCollection" : {
          "type" : "variable",
          "value" : ""
        }
      },
      "reference" : "efc7fb8c-df00-4a4c-ad25-521a0e42a5f0",
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "container",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : "hidden-sm hidden-md hidden-lg"
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "1d92a63e-6ada-4b43-9115-5b5741fc2872",
        "id" : "pbContainer",
        "rows" : [ [ {
          "type" : "container",
          "dimension" : {
            "xs" : 4,
            "sm" : 12,
            "md" : 4,
            "lg" : 4
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "repeatedCollection" : {
              "type" : "variable",
              "value" : ""
            }
          },
          "reference" : "911d8da5-2b3b-4433-a598-b4d275b64910",
          "id" : "pbContainer",
          "rows" : [ [ ] ]
        }, {
          "type" : "component",
          "dimension" : {
            "xs" : 4,
            "sm" : 12,
            "md" : 4,
            "lg" : 4
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "srcType" : {
              "type" : "constant",
              "value" : "Asset"
            },
            "url" : {
              "type" : "constant",
              "value" : "status.img"
            },
            "assetName" : {
              "type" : "expression",
              "value" : "status.img"
            },
            "alt" : {
              "type" : "interpolation",
              "value" : "status.img"
            }
          },
          "reference" : "e06cfef7-3056-499d-8ff7-82cc9c2c7bac",
          "id" : "pbImage"
        }, {
          "type" : "container",
          "dimension" : {
            "xs" : 4,
            "sm" : 12,
            "md" : 4,
            "lg" : 4
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "repeatedCollection" : {
              "type" : "variable",
              "value" : ""
            }
          },
          "reference" : "2502afae-6dc5-4c31-8cb2-87a7f5a748ad",
          "id" : "pbContainer",
          "rows" : [ [ ] ]
        } ] ]
      } ], [ {
        "type" : "container",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "280adac6-bfde-44b8-8362-c92247be706a",
        "id" : "pbContainer",
        "rows" : [ [ {
          "type" : "component",
          "dimension" : {
            "xs" : 4,
            "md" : 2,
            "lg" : 2,
            "sm" : 2
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : "hidden-xs"
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "srcType" : {
              "type" : "constant",
              "value" : "Asset"
            },
            "url" : {
              "type" : "constant",
              "value" : ""
            },
            "assetName" : {
              "type" : "expression",
              "value" : "status.img"
            },
            "alt" : {
              "type" : "interpolation",
              "value" : "status.img"
            }
          },
          "reference" : "4cff073c-1e60-4844-9fc7-05164a66f5e2",
          "id" : "pbImage"
        }, {
          "type" : "container",
          "dimension" : {
            "xs" : 12,
            "sm" : 10,
            "md" : 10,
            "lg" : 10
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "repeatedCollection" : {
              "type" : "variable",
              "value" : ""
            }
          },
          "reference" : "b43a9ebe-d290-4252-9b0f-af2f9c3ccad8",
          "id" : "pbContainer",
          "rows" : [ [ {
            "type" : "component",
            "dimension" : {
              "xs" : 12,
              "sm" : 12,
              "md" : 12,
              "lg" : 12
            },
            "propertyValues" : {
              "cssClasses" : {
                "type" : "constant",
                "value" : "tenantStateLabel"
              },
              "hidden" : {
                "type" : "constant",
                "value" : false
              },
              "allowHTML" : {
                "type" : "constant",
                "value" : true
              },
              "text" : {
                "type" : "interpolation",
                "value" : "<b>Status:</b><span class=\"text-upperCase\"> {{status.state | uiTranslate}}</span>"
              },
              "alignment" : {
                "type" : "constant",
                "value" : "left"
              }
            },
            "reference" : "38176792-3218-4b3a-afbe-95382c80646f",
            "id" : "pbText"
          } ], [ {
            "type" : "component",
            "dimension" : {
              "xs" : 12,
              "lg" : 12,
              "md" : 12,
              "sm" : 12
            },
            "propertyValues" : {
              "cssClasses" : {
                "type" : "constant",
                "value" : ""
              },
              "hidden" : {
                "type" : "constant",
                "value" : false
              },
              "allowHTML" : {
                "type" : "constant",
                "value" : true
              },
              "text" : {
                "type" : "interpolation",
                "value" : "You need to pause the BPM services when you make an update to your environment that cannot be done while there are active users."
              },
              "alignment" : {
                "type" : "constant",
                "value" : "left"
              }
            },
            "reference" : "e026035f-e43c-4360-aedf-bcff878e8cf6",
            "id" : "pbText"
          } ] ]
        } ] ]
      } ] ]
    } ], [ {
      "type" : "container",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : "hidden-xs"
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "repeatedCollection" : {
          "type" : "variable",
          "value" : ""
        }
      },
      "reference" : "9fe29d35-b834-4713-b0cc-14b9e7efa36b",
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "allowHTML" : {
            "type" : "constant",
            "value" : true
          },
          "text" : {
            "type" : "interpolation",
            "value" : "When the services are paused:"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "99e8f310-eefb-4f38-b575-69c2c28bfb0a",
        "id" : "pbText"
      } ], [ {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "lg" : 12,
          "md" : 12,
          "sm" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "allowHTML" : {
            "type" : "constant",
            "value" : true
          },
          "text" : {
            "type" : "interpolation",
            "value" : "<ul>\n<li>{{'Only the technical user can log in to the Portal.' | uiTranslate}}\n</li>\n<li>{{'Users who are currently logged in, including Administrator users, are automatically logged out.' | uiTranslate}}\n</li>\n<li>{{'Users who are filling in forms when the services are paused will lose any information that has not been submitted.' | uiTranslate}}\n</li>\n<li>{{'All processes are automatically paused.' | uiTranslate}}\n</li>\n</ul>"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "9dcc9758-9424-43d6-95f2-b5b5707f15d1",
        "id" : "pbText"
      } ], [ {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "allowHTML" : {
            "type" : "constant",
            "value" : true
          },
          "text" : {
            "type" : "interpolation",
            "value" : "When you resume the services, tell your users that they can log back in to the Portal."
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "71dcc239-0e60-4fa6-baa6-1e054155deaf",
        "id" : "pbText"
      } ] ]
    } ], [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12,
        "lg" : 12,
        "md" : 12,
        "sm" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "disabled" : {
          "type" : "expression",
          "value" : "!isTechnicalUser"
        },
        "label" : {
          "type" : "interpolation",
          "value" : "{{status.btnLabel}}"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "center"
        },
        "buttonStyle" : {
          "type" : "constant",
          "value" : "primary"
        },
        "action" : {
          "type" : "constant",
          "value" : "PUT"
        },
        "url" : {
          "type" : "interpolation",
          "value" : "../API/system/tenant/1"
        },
        "dataToSend" : {
          "type" : "expression",
          "value" : "expressions.checkBeforeSubmit()"
        },
        "dataFromSuccess" : {
          "type" : "variable",
          "value" : "response.success"
        },
        "dataFromError" : {
          "type" : "variable",
          "value" : ""
        },
        "targetUrlOnSuccess" : {
          "type" : "interpolation",
          "value" : ""
        },
        "collectionToModify" : {
          "type" : "variable"
        },
        "collectionPosition" : {
          "type" : "constant",
          "value" : "Last"
        },
        "valueToAdd" : {
          "type" : "constant"
        },
        "removeItem" : {
          "type" : "variable"
        }
      },
      "reference" : "c2ee6bb2-0b0f-4225-87d8-62248f7cba17",
      "id" : "pbButton"
    } ] ]
  }, {
    "type" : "container",
    "dimension" : {
      "xs" : 3,
      "sm" : 1,
      "md" : 2,
      "lg" : 3
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "repeatedCollection" : {
        "type" : "variable",
        "value" : ""
      }
    },
    "reference" : "ba5a4978-555b-4a41-88e4-5a868df47833",
    "id" : "pbContainer",
    "rows" : [ [ ] ]
  } ] ],
  "assets" : [ {
    "id" : "9c263032-7532-41a0-9c1b-65bf6bc78a49",
    "name" : "style.css",
    "type" : "css",
    "order" : 0,
    "external" : false
  }, {
    "id" : "8bdb0ca4-d040-4499-907a-a7d6ba37a38d",
    "name" : "running.jpg",
    "type" : "img",
    "order" : 3,
    "external" : false
  }, {
    "id" : "e24de8cb-63dc-4fd1-8900-e8a70bfe4a1a",
    "name" : "paused.jpg",
    "type" : "img",
    "order" : 2,
    "external" : false
  }, {
    "id" : "9d38d1cd-f18c-433d-b139-cc187011e44c",
    "name" : "localization.json",
    "type" : "json",
    "order" : 0,
    "external" : false
  } ],
  "inactiveAssets" : [ ],
  "data" : {
    "tenantStatus" : {
      "type" : "url",
      "value" : "../API/system/tenant/1&t={{response.timestamp}}",
      "exposed" : false
    },
    "session" : {
      "type" : "url",
      "value" : "../API/system/session/unusedId",
      "exposed" : false
    },
    "isTechnicalUser" : {
      "type" : "expression",
      "value" : "return $data.session.is_technical_user === 'true';",
      "exposed" : false
    },
    "status" : {
      "type" : "expression",
      "value" : "if($data.isPaused){\n    return {state: \"Paused\", btnLabel:\"Resume\", img: \"paused.jpg\"};\n}\nreturn {state: \"Running\", btnLabel:\"Pause\", img: \"running.jpg\"};",
      "exposed" : false
    },
    "sendDataOnClick" : {
      "type" : "expression",
      "value" : "var paused = !($data.isPaused);\nreturn {paused: paused.toString()};",
      "exposed" : false
    },
    "isPaused" : {
      "type" : "expression",
      "value" : "return $data.tenantStatus.paused === 'true';",
      "exposed" : false
    },
    "response" : {
      "type" : "json",
      "value" : "{\"success\":\"none\", \"timestamp\":0}",
      "exposed" : false
    },
    "exp_response" : {
      "type" : "expression",
      "value" : "if(!$data.response.success ){\n    $data.response.success = \"none\";\n    $data.response.timestamp =  new Date();\n}",
      "exposed" : false
    },
    "expressions" : {
      "type" : "expression",
      "value" : "return {\n    \"checkBeforeSubmit\":function(){\n        if ($data.confirmation !== $data.isPaused) {\n            $data.confirmation = $data.isPaused;\n            var paused;\n            var message = $data.isPaused \n            ? \"Confirm services resumption?\" \n            : \"Are your sure you want to deactivate the tenant?\";\n            if (confirm(message)) {\n                paused = !($data.isPaused);\n            } else {\n                paused = $data.isPaused;\n            }\n            return {paused: paused.toString()};\n        } else {\n            $data.confirmation = undefined;\n        }\n    }\n};",
      "exposed" : false
    },
    "confirmation" : {
      "type" : "constant",
      "exposed" : false
    }
  },
  "uuid" : "2be4e81d-9a15-4ef9-893c-61caf156398f",
  "type" : "page",
  "description" : "Page allowing to stop and start the BPM services",
  "displayName" : "Tenant status page"
}